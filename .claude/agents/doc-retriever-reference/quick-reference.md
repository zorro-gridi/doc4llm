# doc-retriever å¿«é€Ÿå‚è€ƒ

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### è§¦å‘å…³é”®è¯
```
"use contextZ" æˆ– "use contextz"
```

### åŸºæœ¬ç”¨æ³•
```
use contextZ: æŸ¥æ‰¾å…³äº Claude Code hooks çš„æ–‡æ¡£
use contextZ: æœç´¢ Agent Skills ç›¸å…³å†…å®¹
use contextZ: æå–éƒ¨ç½²æŒ‡å—ï¼Œå®Œæ•´å†…å®¹
```

## ğŸ“‹ å‘½ä»¤é€ŸæŸ¥

### å¥åº·æ£€æŸ¥
```bash
./.claude/scripts/doc-retriever-health-check.sh
```

### å®Œæ•´è¯Šæ–­
```bash
./.claude/scripts/doc-retriever-diagnose.sh
```

### æ€§èƒ½ç›‘æ§
```bash
./.claude/scripts/doc-retriever-monitor.sh
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æ£€ç´¢æ´»åŠ¨æ—¥å¿—
tail -50 .claude/logs/doc-retrieval.log

# å®‰å…¨éªŒè¯æ—¥å¿—
tail -50 .claude/logs/security-validation.log

# æ€§èƒ½ç›‘æ§æ—¥å¿—
tail -50 .claude/logs/performance-monitor.log
```

## ğŸ”§ é…ç½®æ–‡ä»¶ä½ç½®

| ç»„ä»¶ | æ–‡ä»¶è·¯å¾„ |
|------|----------|
| ä¸»é…ç½® | `.claude/agents/doc-retriever.md` |
| æŸ¥è¯¢ä¼˜åŒ–å™¨ | `.claude/skills/md-doc-query-optimizer/SKILL.md` |
| æ–‡æ¡£æœç´¢å™¨ | `.claude/skills/md-doc-searcher/SKILL.md` |
| æ–‡æ¡£è¯»å–å™¨ | `.claude/skills/md-doc-reader/SKILL.md` |
| æ–‡æ¡£å¤„ç†å™¨ | `.claude/skills/md-doc-processor/SKILL.md` |

## ğŸ› ï¸ è„šæœ¬åŠŸèƒ½

| è„šæœ¬ | åŠŸèƒ½ | ç”¨é€” |
|------|------|------|
| `log-retrieval.sh` | è®°å½•æ£€ç´¢æ´»åŠ¨ | å®¡è®¡å’Œç›‘æ§ |
| `validate-doc-operation.sh` | éªŒè¯æ“ä½œå®‰å…¨æ€§ | å®‰å…¨é˜²æŠ¤ |
| `cleanup-doc-session.sh` | æ¸…ç†ä¼šè¯èµ„æº | èµ„æºç®¡ç† |
| `doc-retriever-health-check.sh` | ç³»ç»Ÿå¥åº·æ£€æŸ¥ | æ—¥å¸¸ç»´æŠ¤ |
| `doc-retriever-monitor.sh` | æ€§èƒ½ç›‘æ§ | æ€§èƒ½åˆ†æ |
| `doc-retriever-diagnose.sh` | æ•…éšœè¯Šæ–­ | é—®é¢˜æ’æŸ¥ |

## ğŸ“Š å››é˜¶æ®µå·¥ä½œæµ

```
Phase 0: æŸ¥è¯¢ä¼˜åŒ– (md-doc-query-optimizer)
    â†“
Phase 1: æ–‡æ¡£å‘ç° (md-doc-searcher)
    â†“
Phase 2: å†…å®¹æå– (md-doc-reader)
    â†“
Phase 2.5: æ¡ä»¶æ£€æŸ¥ (doc-retriever å†³ç­–)
    â†“
Phase 3: åå¤„ç† (md-doc-processor) [æ¡ä»¶æ€§]
```

## ğŸ” æ•…éšœæ’é™¤é€ŸæŸ¥

### å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| æŠ€èƒ½è°ƒç”¨å¤±è´¥ | æŠ€èƒ½é…ç½®é”™è¯¯ | æ£€æŸ¥ SKILL.md è¯­æ³• |
| æ–‡æ¡£æ£€ç´¢å¤±è´¥ | md_docs ç›®å½•é—®é¢˜ | éªŒè¯ç›®å½•ç»“æ„ |
| æƒé™è¢«æ‹’ç» | è„šæœ¬æƒé™ä¸è¶³ | `chmod +x .claude/scripts/*.sh` |
| å®‰å…¨æ£€æŸ¥å¤±è´¥ | å‘½ä»¤åŒ…å«å±é™©æ“ä½œ | æ£€æŸ¥å‘½ä»¤å†…å®¹ |
| æ€§èƒ½ç¼“æ…¢ | å¤§æ–‡æ¡£æˆ–å¤æ‚æŸ¥è¯¢ | ä½¿ç”¨å‹ç¼©é€‰é¡¹ |

### é”™è¯¯ä»£ç 

| ä»£ç  | å«ä¹‰ | å¤„ç†æ–¹å¼ |
|------|------|----------|
| `exit 0` | æˆåŠŸ | æ­£å¸¸ç»§ç»­ |
| `exit 1` | ä¸€èˆ¬é”™è¯¯ | æ£€æŸ¥æ—¥å¿— |
| `exit 2` | å®‰å…¨é˜»æ­¢ | ä¿®æ”¹å‘½ä»¤ |

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–æç¤º

### æŸ¥è¯¢ä¼˜åŒ–
- ä½¿ç”¨å…·ä½“çš„æŠ€æœ¯æœ¯è¯­
- é¿å…è¿‡äºå®½æ³›çš„æŸ¥è¯¢
- æŒ‡å®šæ–‡æ¡£é›†ï¼ˆå¦‚æœçŸ¥é“ï¼‰

### è¾“å‡ºæ§åˆ¶
- æ·»åŠ  "å®Œæ•´å†…å®¹" è·å–å…¨æ–‡
- æ·»åŠ  "å‹ç¼©" è·å–æ‘˜è¦
- ä½¿ç”¨ "ä¸å‹ç¼©" å¼ºåˆ¶å…¨æ–‡è¾“å‡º

### æ‰¹é‡æ“ä½œ
- ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªç›¸å…³ä¸»é¢˜
- ä½¿ç”¨ "ä»¥åŠ" è¿æ¥å¤šä¸ªæ¦‚å¿µ
- åˆ©ç”¨æŸ¥è¯¢ä¼˜åŒ–å™¨çš„åˆ†è§£åŠŸèƒ½

## ğŸ” å®‰å…¨æ£€æŸ¥ç‚¹

### éƒ¨ç½²å‰
- [ ] æ‰€æœ‰è„šæœ¬å¯æ‰§è¡Œ
- [ ] æ—¥å¿—ç›®å½•å¯å†™
- [ ] æ–‡æ¡£é›†å¯è®¿é—®
- [ ] Python ä¾èµ–å¯ç”¨

### è¿è¡Œæ—¶
- [ ] ç›‘æ§å¼‚å¸¸æŸ¥è¯¢
- [ ] æ£€æŸ¥é”™è¯¯ç‡
- [ ] éªŒè¯è¾“å‡ºå®Œæ•´æ€§
- [ ] å®¡æŸ¥å®‰å…¨æ—¥å¿—

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

### å…³é”®æŒ‡æ ‡
- **å“åº”æ—¶é—´**: < 5s (90% æŸ¥è¯¢)
- **æˆåŠŸç‡**: > 95%
- **é”™è¯¯ç‡**: < 1%
- **å†…å­˜ä½¿ç”¨**: < 500MB å³°å€¼

### ç›‘æ§å‘½ä»¤
```bash
# ä»Šæ—¥æ´»åŠ¨ç»Ÿè®¡
grep "$(date +%Y-%m-%d)" .claude/logs/doc-retrieval.log | wc -l

# é”™è¯¯ç»Ÿè®¡
grep -i "error\|failed" .claude/logs/*.log | wc -l

# æœ€è¿‘1å°æ—¶æ´»åŠ¨
grep "$(date -v-1H +%Y-%m-%d\ %H)" .claude/logs/doc-retrieval.log | wc -l
```

## ğŸ†˜ ç´§æ€¥å¤„ç†

### ç³»ç»Ÿæ— å“åº”
1. æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
3. é‡å¯ Claude Code
4. è¿è¡Œå®Œæ•´è¯Šæ–­

### å®‰å…¨è­¦æŠ¥
1. ç«‹å³æ£€æŸ¥å®‰å…¨æ—¥å¿—
2. åˆ†æå¼‚å¸¸å‘½ä»¤
3. å¿…è¦æ—¶ç¦ç”¨å­ä»£ç†
4. è”ç³»å®‰å…¨å›¢é˜Ÿ

### æ•°æ®æŸå
1. åœæ­¢æ‰€æœ‰æ“ä½œ
2. å¤‡ä»½å½“å‰çŠ¶æ€
3. æ¢å¤æœ€è¿‘å¤‡ä»½
4. éªŒè¯æ•°æ®å®Œæ•´æ€§

---

**å¿«é€Ÿå¸®åŠ©**: è¿è¡Œ `./.claude/scripts/doc-retriever-diagnose.sh` è·å–è¯¦ç»†è¯Šæ–­ä¿¡æ¯